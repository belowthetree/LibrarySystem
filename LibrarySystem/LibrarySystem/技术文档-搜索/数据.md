# 数据类型、结构

> 主要位于 `Data.h`中

## 文件存储

### 书籍信息

```c++
struct Book
{
	string id;			//ISBN
	string name;		//书名
	string author;		//作者
	string press;		//出版社
	string category;	//学科
	//bool type;			//
	long pubdate;		//出版日期
	int borrowNum;		//当前借出的数量
	int num;			//当前数量
	float price;		//价格
};

struct BookNameIndex
{
	char name[avglen];	//书名
	long index;			//地址
};

struct BookIdIndex
{
	char id[avglen];			//书本编号
	long index;		//地址
	char isBorrowed[1];	//是否借出
};
```

### 用户信息

```c++
struct User
{
	char nickName[user_avglen];	//昵称
	char realName[user_avglen];	//真实姓名
	char major[user_avglen];	//专业
	char grade[user_avglen];	//年纪
	char pwd[user_avglen];		//密码
	char phone[user_avglen];	//手机
	char email[user_avglen];	//邮箱
	char sex;					//性别
	int age;					//年龄
	long id;					//学工号
};
```

## 文件名部分

```c++
const string BookFile = "Book.dat";					//书籍信息文件
const string BookNameIndexFile = "BookNameIndex";	//书籍名字索引文件
const string BookIdIndexFile = "BookIdIndex";		//书籍编号索引文件
```

## 数据大小

```c++
// 用于书籍
const int avglen = 30;
const int book_info_size = 5 * avglen + sizeof(long) + sizeof(int) * 2 + sizeof(float);
const int book_id_size = sizeof(int) + sizeof(long) + 1;
const int book_name_size = sizeof(long) + avglen;

// 用于用户
const int user_avglen = 30;
```

