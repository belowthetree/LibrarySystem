# 数据存储说明

## 书籍文件

书籍文件分三个

1. Book.dat	用于存放**不同种类**书籍的信息
2. BookNameIndex.dat    用于存放书名索引
3. BookIdIndex.dat   用于存放**不同书籍**编号索引

其中，Book.dat中的数据与BookNameIndex.dat一一对应，两者存放的信息以一类书为基本单位

而BookIdIndex.dat存放的是某类书的所有编号对应的书籍

```c++
struct Book
{
	string id;			//ISBN
	string name;		//书名
	string author;		//作者
	string press;		//出版社
	string category;	//学科
	//bool type;			//
	long pubdate;		//出版日期
	int borrowNum;		//当前借出的数量
	int num;			//当前数量
	float price;		//价格
};
```

```c++
struct BookNameIndex
{
	char name[avglen];	//书名
	long index;			//地址
};
```

```c++
struct BookIdIndex
{
	char id[avglen];			//书本编号
	long index;		//地址
	char isBorrowed[1];	//是否借出
};
```



## 注意

#### 数据输入的时候先进行格式化：`memset(str, 0, sizeof(str));`



## 用户信息文件

目前（我负责的）只有一个 User.dat 

```c++
struct User
{
    char id[user_avglen];		//学工号
	char realName[user_avglen];	//真实姓名
	char major[user_avglen];	//专业
	char grade[user_avglen];	//年纪
	char pwd[user_avglen];		//密码
	char phone[user_avglen];	//手机
	char email[user_avglen];	//邮箱
	char sex[1];				//性别
	int age;					//年龄
};
```

